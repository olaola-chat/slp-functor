syntax = "proto3";
package pb;

//表示目标文件生成的路径, go的包名就是最后的目录名
//目前统一生成到 app/pb 目录下
option go_package = "github.com/olaola-chat/rbp-functor/app/pb";

import "common.proto";
import "voice_lover_common.proto";

// [url] /go/func/voice_lover/main
// [desc] 首页
// [params] 无
message RespVoiceLoverMain {
  bool success = 1;
  string msg = 2;
  repeated AlbumData rec_albums = 3;
  repeated BannerData rec_banners = 4;
  repeated UserData rec_users = 5;
  repeated SubjectData rec_subjects = 6;
  repeated AlbumData common_albums = 7;
}

// [url] /go/func/voice_lover/albumList
// [desc] 获取更多专辑列表 精选&非精选&专题都走该接口
// [params]
//  Choice    uint32 `v:"choice@required"` // 0-默认 1-精选 2-专题
//	SubjectId uint64 `v:"subject_id"`      // Choice=2的时候，需要传专题id
//  Page  uint32 `v:"page@integer"`
//  Limit uint32 `v:"limit@integer|min:10|max:50"`
message RespAlbumList {
  bool success = 1;
  string msg = 2;
  repeated AlbumData rec_albums = 3;
  bool has_more = 4;
}

// [url] /go/func/voice_lover/recUserList
// [desc] 更多推荐用户列表
// [params]
//  Page  uint32 `v:"page@integer"`
//  Limit uint32 `v:"limit@integer|min:10|max:50"`
message RespRecUserList {
  bool success = 1;
  string msg = 2;
  repeated UserData rec_users = 3;
  bool has_more = 4;
}

// [url] /go/func/voice_lover/albumDetail
// [desc] 查看专辑详情
// [params]
//  AlbumId uint32 `v:"album_id@required"` // 专辑id
message RespAlbumDetail {
  bool success = 1;
  string msg = 2;
  AlbumData album = 3;              // 专辑信息
  bool is_collected = 4;            // 是否收藏
  uint32 comment_count = 5;         // 评论数量
  repeated AudioData audios = 6;    // 音频列表
}

// [url] /go/func/voice_lover/albumComments
// [desc] 查看专辑评论列表
// [params]
//  AlbumId uint32 `v:"album_id@required"` // 专辑id
message RespAlbumComments {
  bool success = 1;
  string msg = 2;
  repeated CommentData comments = 3;
  bool has_more = 4;
}

// [url] /go/func/voice_lover/commentAlbum
// [desc] 发表专辑评论
// [params]
//  AlbumId uint64 `v:"album_id@required"` // 专辑id
//	Comment string `v:"comment@required"` // 评论内容
message RespCommentAlbum {
  bool success = 1;
  string msg = 2;
}

// [url] /go/func/voice_lover/post
// [desc] 上传音频资源
// [params]
//    Resource    string //音频资源
//    Seconds     uint32 //音频时长 单位秒
//    Title       string //标题
//    Source      int32  //来源 1:原创 2:搬运
//    Cover       string //封面
//    Desc        string //简介
//    EditDub     string // 编辑配音
//    EditContent string //编辑文案
//    EditPost    string //编辑后期
//    EditCover   string //编辑封面
//    Labels      string //标签
message RespVoiceLoverPost {
  bool success = 1;
  string msg = 2;
}
